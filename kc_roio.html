<!--<!DOCTYPE html SYSTEM "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
	<meta charset="UTF-8" />
	<title>KC ROIO</title>
	<meta name="KC Roio Archive" content="width=device-width, initial-scale=1.0" />

	<link rel="stylesheet" href="css/sheet.css" />
	<link rel="stylesheet" href="css/grid-linkedsheets.css" />
	<link rel="stylesheet" href="//cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css" />

	<script src="js/jQuery/jquery-3.4.0.min.js"></script>
	<script src="//cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>

	<script src="js/helper functions/xslFunctions.js"></script>
	
	<script src="js/lastUpdated.js"></script>

	<script src="js/linkedsheet-dropdown.js"></script>

	<script src="js/database.js"></script>
	<script src="js/sheet-datatable.js"></script>
	

	<!-- NOG IMPLEMENTEREN:-->
	<!-- <script src="js/timeline_render.js"></script> -->

	<script>
		let datafile = 'kc_roio.xml';
		let isDatabase = true;

		let database, sheetNames, attrs;
		let keyNames = [], keyValues = [];
		let keys = {};

		loadDocRE(datafile).then(function (xmlDoc) {
			database = xmlDoc;
			//let keyNames = database.querySelector("belgianjazzwiki muzikanten").children;
			attrs = database.firstElementChild.firstElementChild.firstElementChild.attributes;
			//console.log(database.firstElementChild.firstElementChild.children.);
			let sheets = Array.from(database.firstElementChild.children);
			let mainsheetNodes = Array.from(database.firstElementChild.firstElementChild.children);
			sheetNames = sheets.map(x => x.tagName);
			//console.log(sheetNames);
			let attrName, dropdown;
			for (let i = attrs.length - 1; i >= 0; i--) {
				//console.log(attrs[i].name);
				attrName = attrs[i].name;
				if (sheetNames.includes(attrName)) {
					//console.log(attrs[i].name);
					keyNames.push(attrName);
					//database.firstElementChild.firstElementChild.firstElementChild.getAttribute("class")
					keyValues = mainsheetNodes.map(x => x.getAttribute(attrName))
					keys[attrName] = [...new Set(keyValues)];

				}
				//output += attrs[i].name + "->" + attrs[i].value;
			}
		});
	</script>
</head>

<body>
	<header>
		<div id="heading"></div>
		<div id="updated"></div>
		<div id="filters"></div>
	</header>
	<nav>
		<div id="menu"></div>
	</nav>
	<section>
		<div id="results"></div>
	</section>
</body>

</html>